<!DOCTYPE html>
<!-- saved from url=(0060)http://unfoldingmaps.org/tutorials/markers-data-geojson.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Unfolding Maps: Markers &amp; Data</title>
    
      <meta name="description" content="Loading and displaying geospatial data from GeoJSON, GPX, and other files.">
    
    <meta name="author" content="Till Nagel">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <script type="text/javascript" async="" src="./Unfolding Maps_ Markers & Data_files/ga.js"></script><script type="text/javascript" async="" src="./Unfolding Maps_ Markers & Data_files/ga.js"></script><script src="./Unfolding Maps_ Markers & Data_files/jquery.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-transition.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-alert.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-button.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-carousel.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-collapse.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-dropdown.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-modal.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-scrollspy.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-tab.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-tooltip.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-popover.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-typeahead.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/bootstrap-transition.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/script.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/shCore.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/shBrushProcessing.js"></script>
    <script src="./Unfolding Maps_ Markers & Data_files/shBrushJava.js"></script>
    <link href="./Unfolding Maps_ Markers & Data_files/style.css" rel="stylesheet" type="text/css" media="all">
    <link href="./Unfolding Maps_ Markers & Data_files/shCore.css" rel="stylesheet" type="text/css" media="all">
    <link href="./Unfolding Maps_ Markers & Data_files/shThemeProcessing.css" rel="stylesheet" type="text/css" media="all">

    <!-- fav and touch icons -->
    <link rel="shortcut icon" href="http://unfoldingmaps.org/assets/images/favicon.ico">
	<!-- For iPhone -->
    <link rel="apple-touch-icon" href="http://unfoldingmaps.org/assets/images/apple-touch-icon-precomposed.png">
	<!-- For iPad: -->
    <link rel="apple-touch-icon" sizes="72x72" href="http://unfoldingmaps.org/assets/images/apple-touch-icon-72x72-precomposed.png">
	<!-- For iPhone 4 Retina display: -->
    <link rel="apple-touch-icon" sizes="114x114" href="http://unfoldingmaps.org/assets/images/apple-touch-icon-114x114-precomposed.png">
	<!-- Opera speed dial icon -->
	<link rel="icon" type="image/png" href="http://unfoldingmaps.org/assets/images/speed-dial-icon.png">

  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-33711190-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>

  </head>
  <body data-pinterest-extension-installed="cr1.38.3">
    <header class="outer-container page-header">
      <div class="container">
        <div class="row">
            <div>
              <h1 class="logo"><a href="http://unfoldingmaps.org/"></a></h1>
              <ul class="menu">

                
                
                


  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
        
          <li>
            <a href="http://unfoldingmaps.org/exhibition/index.html">
              
                Exhibition
              
            </a>
          </li>
        
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  







                
                
                


  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
        
          <li>
            <a href="http://unfoldingmaps.org/tutorials/index.html">
              
                Tutorials
              
            </a>
          </li>
        
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  







                
                
                


  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
        
          <li>
            <a href="http://unfoldingmaps.org/examples/index.html">
              
                Examples
              
            </a>
          </li>
        
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  







                <li>
                  <a href="http://unfoldingmaps.org/javadoc/index.html" target="_blank">API</a>
                </li>

              </ul>
              <a class="ribbon" href="https://github.com/tillnagel/unfolding"><img src="./Unfolding Maps_ Markers & Data_files/forkme_right_darkblue.png" alt="Fork me on GitHub"></a>
            </div>
        </div>
      </div>
    </header>
    
<section class="outer-container page-section1">
  <div class="container">
    <div class="row">
      <div class="span8">
        <h1>Markers &amp; Data</h1>
        <p>Loading and displaying geospatial data from GeoJSON, GPX, and other files.</p>
        <!--  -->
        
        
      </div>
      <div class="span4">
        
        
        
        
          
        
        
      </div>
    </div>
  </div>
</section>
<section class="outer-container page-section2">
  <div class="container">
    <div class="row">
      <div class="span8">
        
<h2 id="reading-data-files">Reading data files</h2>

<p>The following example displays countries of the world as simple polygons. Reads from a GeoJSON file, and uses default marker creation, i.e. features are represented by simple markers in the default style.</p>

<div><div id="highlighter_389591" class="syntaxhighlighter  processing"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="processing plain">UnfoldingMap </code><code class="processing color5">map</code><code class="processing plain">;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="processing color5">void</code> <code class="processing color5 bold">setup</code><code class="processing plain">() {</code></div><div class="line number4 index3 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">size</code><code class="processing plain">(800, 600);</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">map</code> <code class="processing plain">= </code><code class="processing color5">new</code> <code class="processing plain">UnfoldingMap(</code><code class="processing color5">this</code><code class="processing plain">);</code></div><div class="line number7 index6 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">MapUtils.createDefaultEventDispatcher(</code><code class="processing color5">this</code><code class="processing plain">, </code><code class="processing color5">map</code><code class="processing plain">);</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">List&lt;Feature&gt; countries = GeoJSONReader.loadData(</code><code class="processing color5">this</code><code class="processing plain">, </code><code class="processing color4">"countries.geo.json"</code><code class="processing plain">);</code></div><div class="line number10 index9 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">List&lt;Marker&gt; countryMarkers = MapUtils.createSimpleMarkers(countries);</code></div><div class="line number11 index10 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">map</code><code class="processing plain">.addMarkers(countryMarkers);</code></div><div class="line number12 index11 alt1"><code class="processing plain">}</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="processing color5">void</code> <code class="processing color5 bold">draw</code><code class="processing plain">() {</code></div><div class="line number15 index14 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">map</code><code class="processing plain">.</code><code class="processing color5 bold">draw</code><code class="processing plain">();</code></div><div class="line number16 index15 alt1"><code class="processing plain">}</code></div></div></td></tr></tbody></table></div></div>

<p>As easily you can load data from sources in other formats, for instance an online GeoRSS containing the latest earthquakes.</p>

<div><div id="highlighter_295632" class="syntaxhighlighter  processing"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="processing color5">String</code> <code class="processing plain">rssUrl = </code><code class="processing color4">"<a href="http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_week.atom">http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_week.atom</a>"</code><code class="processing plain">;</code></div><div class="line number2 index1 alt1"><code class="processing plain">List&lt;Feature&gt; features = GeoRSSReader.loadDataGeoRSS(</code><code class="processing color5">this</code><code class="processing plain">, rssUrl);</code></div><div class="line number3 index2 alt2"><code class="processing plain">List&lt;Marker&gt; markers = MapUtils.createSimpleMarkers(features);</code></div></div></td></tr></tbody></table></div></div>

<p>The provided data readers <strong>support basic functionality</strong>, and do not fully implement the respective specifications. The GeoJSON parser supports most features, while the GeoRSS reader supports only Simple and W3C Geo, but not GML, and the GPX reader only enables reading track points. So, either use some other library to parse various data formats with full specification support, or tell us what file you are trying to read in our <a href="https://github.com/tillnagel/unfolding/issues">issue tracker</a>.</p>

<h2 id="using-shapefiles">Using Shapefiles</h2>

<p>Various kinds of geo-data are freely available, and often provided as <a href="http://en.wikipedia.org/wiki/Shapefile">Shapefile</a>. These contain geometries such as points, lines, and polygons, and additional data attributes.</p>

<p>Unfolding does not provide parsing Shapefiles out-of-the-box. You can either use some library to parse those and convert them to Unfolding markers. See for instance <a href="http://stackoverflow.com/questions/2044876/does-anyone-know-of-a-library-in-java-that-can-parse-esri-shapefiles">how to read Shapefiles in Java</a> by utilizing the <a href="http://geotools.org/">GeoTools library</a>.</p>

<p>Alternatively, you can convert a Shapefile to another format. One easy tool is the <a href="http://www.gdal.org/ogr/">OGR Simple Feature Library</a> (part of <a href="http://www.gdal.org/">GDAL</a>). After installing it on your machine, you can simply convert geo-data from one format to another, e.g.:</p>

<div><div id="highlighter_203922" class="syntaxhighlighter  processing"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="processing plain">ogr2ogr -f geoJSON countries.json countries.shp</code></div></div></td></tr></tbody></table></div></div>

<p>If you don’t want to install that library, you can use the <a href="http://ogre.adc4gis.com/">ogr2ogr web client</a>.</p>

<p>For an example, let’s use a Shapefile containing borders of all countries. Download the simplified version from <a href="http://thematicmapping.org/downloads/world_borders.php">thematicmapping.org</a>. Then, go to <a href="http://ogre.adc4gis.com/">ogr2ogr web client</a>, upload that zip file, and convert it to GeoJSON. Save the result as “countries-simple.geo.json” in the data folder of your Unfolding sketch. Now, you simply have to load and use the data to create markers.</p>

<div><div id="highlighter_731120" class="syntaxhighlighter  processing"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="processing plain">List&lt;Feature&gt; countries = GeoJSONReader.loadData(</code><code class="processing color5">this</code><code class="processing plain">, </code><code class="processing color4">"countries-simple.geo.json"</code><code class="processing plain">);</code></div></div></td></tr></tbody></table></div></div>

<h2 id="features-and-markers">Features and Markers</h2>

<p>A <code>Feature</code> (<a href="http://unfoldingmaps.org/javadoc/index.html?de/fhpotsdam/unfolding/data/package-summary.html">API</a>) contains the geographic data such as a single location for a point, or multiple locations for lines or polygons, and optionally some data properties.	
A <code>Marker</code> (<a href="http://unfoldingmaps.org/javadoc/index.html?de/fhpotsdam/unfolding/marker/package-summary.html">API</a>) is the visual representations of a feature on a map.</p>

<p>In the examples above, we create default markers automatically from the loaded geo data.</p>

<div><div id="highlighter_962532" class="syntaxhighlighter  processing"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="processing plain">List&lt;Feature&gt; features = GeoDataReader.loadData(</code><code class="processing color5">this</code><code class="processing plain">, dataFile);</code></div><div class="line number2 index1 alt1"><code class="processing plain">List&lt;Marker&gt; markers = MapUtils.createSimpleMarkers(features);</code></div></div></td></tr></tbody></table></div></div>

<p>This way, Unfolding creates simple markers in the default style. If you want to change the display style, or have extended functionality you need to create the markers on your own. There are two ways of doing that:</p>

<h3 id="specify-which-markers-to-create-automatically">Specify which markers to create automatically</h3>

<p>You can create other markers than the default ones from features. Specify an appropriate marker class, and create the markers from some already populated features.</p>

<div><div id="highlighter_516324" class="syntaxhighlighter  processing"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="processing plain">MarkerFactory markerFactory = </code><code class="processing color5">new</code> <code class="processing plain">MarkerFactory();</code></div><div class="line number2 index1 alt1"><code class="processing plain">markerFactory.setPolygonClass(MyPolygonMarker.</code><code class="processing color5">class</code><code class="processing plain">);</code></div><div class="line number3 index2 alt2"><code class="processing plain">List&lt;Marker&gt; markers = markerFactory.createMarkers(features);</code></div><div class="line number4 index3 alt1"><code class="processing color5">map</code><code class="processing plain">.addMarkers(markers);</code></div></div></td></tr></tbody></table></div></div>

<p>See the <a href="http://unfoldingmaps.org/tutorials/markers-simple.html">Markers tutorial</a> on how to create own marker classes. </p>

<p>(More details coming soon.)</p>

<h3 id="create-markers-from-features-manually">Create markers from features manually</h3>

<p>If you want to use an existing marker class, but set some visual properties based on data attributes, you can do that by creating the markers on your own.</p>

<p><img src="./Unfolding Maps_ Markers & Data_files/marker-data-mbtalines.png" alt="Marker &amp; Data: MBTA Lines"></p>

<p>In this example the transit lines in Boston are loaded from a GeoJSON file as features (line 4). Then, we check for the data attribute containing the name of the MBTA line (line 11). Lastly, we use that name to color code the line markers (lines 12-29), and add them to the map (line 34).</p>

<div><div id="highlighter_363773" class="syntaxhighlighter  processing"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="processing plain">List&lt;Marker&gt; transitMarkers = </code><code class="processing color5">new</code> <code class="processing color5">ArrayList</code><code class="processing plain">&lt;Marker&gt;();</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="processing comments">// Load features from GeoJSON</code></div><div class="line number4 index3 alt1"><code class="processing plain">List&lt;Feature&gt; transitLines = GeoJSONReader.loadData(</code><code class="processing color5">this</code><code class="processing plain">, </code><code class="processing color4">"MBTARapidTransitLines.json"</code><code class="processing plain">);</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="processing comments">// Create markers from features, and use LINE property to color the markers.</code></div><div class="line number7 index6 alt2"><code class="processing color5">for</code> <code class="processing plain">(Feature feature : transitLines) {</code></div><div class="line number8 index7 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">ShapeFeature lineFeature = (ShapeFeature) feature;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">SimpleLinesMarker m = </code><code class="processing color5">new</code> <code class="processing plain">SimpleLinesMarker(lineFeature.getLocations());</code></div><div class="line number11 index10 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">String</code> <code class="processing plain">lineColor = lineFeature.getStringProperty(</code><code class="processing color4">"LINE"</code><code class="processing plain">);</code></div><div class="line number12 index11 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">int</code> <code class="processing color5">color</code> <code class="processing plain">= 0;</code></div><div class="line number13 index12 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing comments">// Original MBTA colors</code></div><div class="line number14 index13 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">if</code> <code class="processing plain">(lineColor.</code><code class="processing color5">equals</code><code class="processing plain">(</code><code class="processing color4">"BLUE"</code><code class="processing plain">)) {</code></div><div class="line number15 index14 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">color</code> <code class="processing plain">= </code><code class="processing color5">color</code><code class="processing plain">(44, 91, 167);</code></div><div class="line number16 index15 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">}</code></div><div class="line number17 index16 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">if</code> <code class="processing plain">(lineColor.</code><code class="processing color5">equals</code><code class="processing plain">(</code><code class="processing color4">"RED"</code><code class="processing plain">)) {</code></div><div class="line number18 index17 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">color</code> <code class="processing plain">= </code><code class="processing color5">color</code><code class="processing plain">(233, 57, 35);</code></div><div class="line number19 index18 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">}</code></div><div class="line number20 index19 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">if</code> <code class="processing plain">(lineColor.</code><code class="processing color5">equals</code><code class="processing plain">(</code><code class="processing color4">"GREEN"</code><code class="processing plain">)) {</code></div><div class="line number21 index20 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">color</code> <code class="processing plain">= </code><code class="processing color5">color</code><code class="processing plain">(59, 130, 79);</code></div><div class="line number22 index21 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">}</code></div><div class="line number23 index22 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">if</code> <code class="processing plain">(lineColor.</code><code class="processing color5">equals</code><code class="processing plain">(</code><code class="processing color4">"SILVER"</code><code class="processing plain">)) {</code></div><div class="line number24 index23 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">color</code> <code class="processing plain">= </code><code class="processing color5">color</code><code class="processing plain">(154, 156, 157);</code></div><div class="line number25 index24 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">}</code></div><div class="line number26 index25 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">if</code> <code class="processing plain">(lineColor.</code><code class="processing color5">equals</code><code class="processing plain">(</code><code class="processing color4">"ORANGE"</code><code class="processing plain">)) {</code></div><div class="line number27 index26 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing color5">color</code> <code class="processing plain">= </code><code class="processing color5">color</code><code class="processing plain">(238, 137, 40);</code></div><div class="line number28 index27 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">}</code></div><div class="line number29 index28 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">m.setColor(</code><code class="processing color5">color</code><code class="processing plain">);</code></div><div class="line number30 index29 alt1"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">m.setStrokeWeight(5);</code></div><div class="line number31 index30 alt2"><code class="processing spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="processing plain">transitMarkers.</code><code class="processing color5">add</code><code class="processing plain">(m);</code></div><div class="line number32 index31 alt1"><code class="processing plain">}</code></div><div class="line number33 index32 alt2">&nbsp;</div><div class="line number34 index33 alt1"><code class="processing color5">map</code><code class="processing plain">.addMarkers(transitMarkers);</code></div></div></td></tr></tbody></table></div></div>

<p>See the <a href="http://unfoldingmaps.org/examples/40_marker-mbta-lines.html">MBTA Lines</a> example for the full code.</p>

<h2 id="generalization--level-of-detail">Generalization &amp; Level of detail</h2>

<p>(As you can see, the simplified (i.e. <a href="http://en.wikipedia.org/wiki/Cartographic_generalization">generalized</a>) border data results in overlaps and gaps between the vector countries and the underlying tiles. Use a high detailed data file to prevent this. For performance boosts, look at our examples AutoGeneralization or ZoomDependentPolygonData.)</p>


      </div>
      <div class="span4">
      </div>
    </div>
   </div>
</section>


    <footer class="outer-container page-footer">
      <div class="container">
        <div class="row">
          <div class="span12">
            <ul class="menu">

              
              
              


  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
        
          <li>
            <a href="http://unfoldingmaps.org/exhibition/index.html">
              
                Exhibition
              
            </a>
          </li>
        
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  







              
              
              


  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
        
          <li>
            <a href="http://unfoldingmaps.org/tutorials/index.html">
              
                Tutorials
              
            </a>
          </li>
        
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  







              
              
              


  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
        
          <li>
            <a href="http://unfoldingmaps.org/examples/index.html">
              
                Examples
              
            </a>
          </li>
        
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  







              <li>
                <a href="http://tillnagel.github.com/unfolding/javadoc/index.html" target="_blank">API</a>
              </li>

              <li>
                <a href="https://github.com/tillnagel/unfolding" target="_blank">GitHub</a>
              </li>

              
              
              


  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
        
          <li>
            <a href="http://unfoldingmaps.org/contact.html">
              
                Contact
              
            </a>
          </li>
        
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  






            </ul>
            <p class="copy">© 2014 – Unfolding Maps by Till Nagel and <a href="http://unfoldingmaps.org/contact.html">contributors</a>.<br>
            Developed at Interaction Design Lab Potsdam, KU Leuven, and MIT Senseable City Lab.
            </p>
          </div>
        </div>
      </div>
    </footer>
    


  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-123-12']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  


<span style="height: 20px; width: 40px; position: absolute; opacity: 0.85; z-index: 8675309; display: none; cursor: pointer; border: none; top: 2088px; left: 180px; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAUCAYAAAD/Rn+7AAADU0lEQVR42s2WXUhTYRjHz0VEVPRFUGmtVEaFUZFhHxBhsotCU5JwBWEf1EWEEVHQx4UfFWYkFa2biPJiXbUta33OXFtuUXMzJ4bK3Nqay7m5NeZq6h/tPQ+xU20zugjOxR/+7/O8539+5znnwMtNTExwJtMb3L/fiLv3botCSmUjeCaejTOb39AiFothfHxcFIrHY8RksZjBsckJcOIRMfFsHD/SsbExUYpnI8DR0dGUGjSb0byhEJp5Uqg5CTSzc2CQleJbMEj9/ywBcGRkJEk9DQqouEVQT1sK444yWI9UonmTjGqauVLEIlHa9x8lAMbj8SSpp0rwKGMVvg8P46vbg0C7na8z8JsMcgHe7jlEa+edRhiLy8n/TUMfu6EvLElk+U0WtGwrTrdfAGQf5J8iiK4LVzDU28t8JtMSocf8E+l68myaNFXm/6rXslLK7ay5TOunuRvZWpJuvwAYjUaTpOIWoquuAZ219RTaxKYp9BbjycoN5FvL9qH9TBX5rvoGdJythvXYSTxdtRnWylO/ZdqrLsGwszzhWQ593z2KlAwCYCQSSZJ6ehZ0W7bD9VBLgN0NCqr3qR7R2rBrL3pu3Sb/7nDlz2uy6cG0OXk0GTbZXzNp8trsPAQdTj6frlWzN2DcXZGKQQAMh8NJ6rpyHe+PnkCr/CAFdZyvpfpjuvkifLF9wIt1Wwlo0OHie1RvWrKa93RjzfzliTzPKz3ltB0/Tevmwp14wGUgHAzSOoUEwFAolFaaBSuhnslPRkJexUJtZ6v5HtUeLswl33n1BgEY5fvhs9sJ3FAiT+QYyyvoAQJuD0KBAFRTJNAuz5/s3gJgMBhMJwrVFRThM5tY5zUF/A4X1f2fvQTRLCuBreoim0YmAbqNJryvPEXeeq46kaNdkQ/1HCncbJKPs9ZSv2VHGfWsZ2hfkhKAfr8/pdxWKx4wwD69PmVfNSOL+lr2w+gYqHpWDtXt1xQ8AMlWU0e1lqLd/APRHoP8AJqWrQG9gYxcPMsvSJUvAA4MDKTUJ7MZLaVy8v+qT21tcDx/OemePr0RTkNrur4A6PP5xCgBsL+/X4wiQDpuuVxOeL1eMYmYeDY6sOp0z+B0OuHxeEQhxkJMFosJiSO/UinOI/8Pc+l7KKArAT8AAAAASUVORK5CYII=); background-color: transparent;"></span></body></html>